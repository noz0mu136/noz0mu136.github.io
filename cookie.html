<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link
   rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
 />
    <style media="screen">
    body{margin: 0;
    height: 100vh}
      img{width:50%;}
      .container{
        display: flex;
      height: 100vh;}
      .item1{flex-grow: 2;
      background-color: green;}
      .item2{flex-grow: 4;
      background-color: green;}
      .item3{flex-grow: 3;
        background-color: red;}
        #iop{
          display:none;
        }
    </style>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">

    let event_ids=[];

    class Building{

      constructor(time,num){
        this.event_ids=[];
        this.setInterval_time=time;
        this.add_num;
      }
      count_up(num){
        count+=num
      }
      buy(count>=10){
        count-10;
        if(){
        let self=this;
        let return_id=setInterval(function(){
          self.count_up(self.add_num);
        },1000);
        this.event_ids.push(return_id);
      }
    }
      sell(){
        let return_id=this.event_ids.pop();
        clearInterval(return_id);
      }
    }

    let mine=new Building(10000,1);
    let fam=new Building(1000,1);
    let grandma=new Building(100,4);

    cursor.buy();

    cursor.sell();

    let ls_count=localStorage.getItem("ls_count");
    if (ls_count) {
      count=parseInt(ls_count);
    }else {
      count=0;
    }

    setInterval(save_a,1000);

    function save_a() {
      localStorage.setItem("ls_count",count);
    }
      grandma_count=0;
      fam_count=0;
      setInterval(sen,10)
      function sen() {
        span=document.getElementById('count')
        span.textContent=count;
      }
      function cookie_click() {
        var zunda_img=document.getElementById('zunda_img');
        zunda_img.classList.remove('animate__animated','animate__wobble');
        void zunda_img.offsetWidth;
        zunda_img.classList.add('animate__animated','animate__wobble');
        count++;

      }
      /*
      function grandma() {
        if (count>=10) {
        count-=10;
        grandma_count++
        setInterval(autoCountUp,1000,1);
      }
      }
      function autoCountUp(num) {

        count=count+num;

      }
      function fam() {
        if (count>=300) {
        count-=300;
        fam_count++;
        setInterval(autoCountUp,1000,5);
      }
      }
      function autoCountUp(num) {

        count=count+num;

      }
      function mine() {
        if (count>=2000) {
        count-=2000;
        setInterval(autoCountUp,1000,100);
      }
      }
      */
      function autoCountUp(num) {

        count=count+num;

      }
      function buildSwitch(){
        let buy_element =document.getElementById('mko');
        let sell_element =document.getElementById('iop');
        if(buy_element.style.display !="none"){
          buy_element.style.display="block";
        }else{
          buy_element.style.display !="block"){
            buy_element.style.display="none";
        }
      }

    </script>
    <div class="container">
    <div class="item1">
      <p class="animate__animated animate__bounce"><span id="count"></span>回</p>
      <img id="zunda_img"onclick="cookie_click()" src="zunda.jpg" alt="">
      <p>
        <span id="count"></span>
      </p>
      <img src="" alt="">
    </div>
    <div class="item2">
      制作
    </div>
    <div class="item3">
    <div id="mko">
    <span onclick="buildSwitch()">購入</span>
      <u1>
        <li onclick="grandma()">具欄間　10</li>
        <li onclick="fam()">不亞夢　300</li>
        <li onclick="mine()">mine　2000</li>
      </ul>
    </div>
    <div id="iop">
    <span onclick="buildSwitch()">売却</span>
      <u1>
        <li onclick="granma.sell()">具欄間　-10</li>
        <li onclick="sell_fam()">不亞夢　-300</li>
        <li onclick="sell_mine()">mine　-2000</li>
      </ul>
    </div>
        </div>
  </body>
</html>
